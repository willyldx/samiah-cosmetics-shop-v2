/* ==========================================
   SAMIAH COSMETICS v2.5 - STYLES 2026
   ========================================== */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================
   ANIMATIONS CUSTOM (KEYFRAMES)
   ========================================== */
@layer utilities {
  @keyframes shine {
    0% { transform: translateX(-150%) skewX(-15deg); }
    100% { transform: translateX(150%) skewX(-15deg); }
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
  }

  @keyframes pulse-gold {
    0%, 100% { box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4); }
    70% { box-shadow: 0 0 0 10px rgba(212, 175, 55, 0); }
  }
}

/* ==========================================
   BASE STYLES
   ========================================== */
@layer base {
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-white text-charcoal font-sans overflow-x-hidden;
  }

  /* Focus visible amélioré */
  *:focus-visible {
    @apply outline-none ring-2 ring-gold ring-offset-2 transition-shadow duration-200;
  }

  /* Sélection de texte couleur Or */
  ::selection {
    @apply bg-gold/20 text-charcoal;
  }
}

/* ==========================================
   COMPONENT CLASSES
   ========================================== */
@layer components {
  /* Container principal */
  .container-main {
    @apply max-w-container mx-auto px-4 sm:px-6;
  }

  /* --- BOUTONS AMÉLIORÉS --- */
  .btn {
    @apply inline-flex items-center justify-center gap-2
           px-6 py-3.5 rounded-xl font-bold tracking-wide
           transition-all duration-300 cubic-bezier(0.4, 0, 0.2, 1)
           active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed
           relative overflow-hidden; /* Important pour l'effet shine */
  }

  /* Effet de brillance interne pour le bouton Gold */
  .btn-gold {
    @apply btn bg-gold text-charcoal shadow-lg shadow-gold/20
           hover:bg-yellow-500 hover:-translate-y-1 hover:shadow-xl hover:shadow-gold/30;
  }
  
  /* Le petit reflet qui passe */
  .btn-gold::after {
    content: '';
    @apply absolute top-0 left-0 w-full h-full bg-white/20;
    transform: translateX(-100%) skewX(-15deg);
    transition: transform 0.5s;
  }
  
  .btn-gold:hover::after {
    animation: shine 0.7s ease-in-out;
  }

  .btn-primary {
    @apply btn bg-charcoal text-white shadow-lg shadow-charcoal/20
           hover:bg-black hover:-translate-y-1 hover:shadow-xl hover:shadow-charcoal/30;
  }

  .btn-secondary {
    @apply btn bg-gray-50 text-charcoal border border-gray-200
           hover:bg-white hover:border-gold/50 hover:text-gold hover:-translate-y-0.5;
  }

  .btn-whatsapp {
    @apply btn bg-[#25D366] text-white
           hover:bg-[#1ebc57] hover:-translate-y-1 hover:shadow-whatsapp
           hover:shadow-lg hover:shadow-[#25D366]/40;
  }

  /* --- CARDS & IMAGES --- */
  .card {
    @apply relative bg-white rounded-2xl overflow-hidden
           border border-gray-100
           transition-all duration-500 ease-out
           hover:border-gold/30 hover:shadow-strong hover:-translate-y-1;
  }

  .card-image-wrapper {
    @apply overflow-hidden relative;
  }

  .card-image {
    @apply w-full h-64 object-cover
           transition-transform duration-700 ease-out;
  }

  .card:hover .card-image {
    @apply scale-110;
  }

  /* Overlay sombre au survol de l'image (optionnel) */
  .card:hover .card-image-wrapper::after {
    content: '';
    @apply absolute inset-0 bg-black/5 transition-opacity duration-300;
  }

  /* --- INPUTS MODERNES --- */
  .input {
    @apply w-full px-5 py-3.5 rounded-xl border-2 border-transparent bg-gray-50
           text-charcoal placeholder-gray-400 font-medium
           transition-all duration-300
           hover:bg-gray-100
           focus:bg-white focus:border-gold focus:ring-4 focus:ring-gold/10 focus:outline-none;
  }

  .input-error {
    @apply input bg-red-50 text-red-900 border-red-200 focus:border-red-500 focus:ring-red-200;
  }

  .label {
    @apply block text-sm font-bold text-gray-700 mb-2 ml-1;
  }

  /* --- EFFETS SPÉCIAUX --- */
  
  /* Glassmorphism (Effet verre) */
  .glass {
    @apply bg-white/80 backdrop-blur-md border border-white/20;
  }

  .glass-dark {
    @apply bg-charcoal/90 backdrop-blur-md border border-white/10 text-white;
  }

  /* Lien Magique (Soulignement animé) */
  .link-magic {
    @apply relative inline-block text-charcoal font-medium cursor-pointer transition-colors duration-300 hover:text-gold;
  }
  
  .link-magic::after {
    content: '';
    @apply absolute bottom-0 left-0 w-full h-[2px] bg-gold scale-x-0 transition-transform duration-300 origin-right;
  }

  .link-magic:hover::after {
    @apply scale-x-100 origin-left;
  }

  /* Badge Pulse */
  .badge-new {
    @apply inline-flex items-center px-3 py-1 rounded-full text-xs font-bold
           bg-gold text-white shadow-lg shadow-gold/30;
    animation: float 3s ease-in-out infinite;
  }

  /* --- TOASTS --- */
  .toast {
    @apply fixed bottom-8 right-4 z-[9999]
           flex items-center gap-3 px-6 py-4 rounded-2xl
           shadow-2xl font-medium backdrop-blur-md
           animate-slide-in-right border border-white/10;
  }

  .toast-success {
    @apply toast bg-emerald-500/90 text-white;
  }

  .toast-error {
    @apply toast bg-red-500/90 text-white;
  }
}

/* ==========================================
   UTILITY CLASSES
   ========================================== */
@layer utilities {
  .text-gradient {
    @apply bg-gradient-to-r from-charcoal via-gray-600 to-charcoal bg-clip-text text-transparent;
  }
  
  .text-gradient-gold {
    @apply bg-gradient-to-r from-yellow-600 via-gold to-yellow-500 bg-clip-text text-transparent;
  }

  /* Animation d'entrée pour les pages */
  .animate-enter {
    animation: fadeUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    opacity: 0;
    transform: translateY(20px);
  }

  .delay-100 { animation-delay: 0.1s; }
  .delay-200 { animation-delay: 0.2s; }
  .delay-300 { animation-delay: 0.3s; }

  @keyframes fadeUp {
    to { opacity: 1; transform: translateY(0); }
  }

  /* Hide Scrollbar */
  .scrollbar-hide::-webkit-scrollbar { display: none; }
  .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
}

/* ==========================================
   PAGE TRANSITIONS (VUE/NUXT)
   ========================================== */
.page-enter-active,
.page-leave-active {
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.page-enter-from {
  opacity: 0;
  transform: translateY(10px); /* Plus subtil qu'avant */
}

.page-leave-to {
  opacity: 0;
  transform: translateY(-10px);
}

/* Modal Transitions */
.modal-enter-active, .modal-leave-active {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
.modal-enter-from, .modal-leave-to {
  opacity: 0;
  transform: scale(0.95);
}

/* ==========================================
   PERFORMANCE: REDUCED MOTION
   Désactive les animations pour les utilisateurs
   qui préfèrent réduire le mouvement
   ========================================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* Garder les transitions essentielles mais plus rapides */
  .page-enter-active,
  .page-leave-active,
  .modal-enter-active,
  .modal-leave-active {
    transition-duration: 0.15s !important;
  }
}

/* ==========================================
   PERFORMANCE: WILL-CHANGE HINTS
   Améliore le rendu des éléments animés
   ========================================== */
.animate-float,
.animate-pulse,
.animate-ping {
  will-change: transform, opacity;
}

/* GPU acceleration pour les transitions */
.transition-transform {
  will-change: transform;
}
